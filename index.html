<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Appunti-AI Professionale</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 700px; margin: 2rem auto; background: #fafafa; color: #2a2a2a; }
    h1, h2 { margin: 0.7em 0 0.4em 0; }
    .section { margin: 1.2em 0 1.2em 0; }
    .label { color: #465; font-weight: bold; margin-top: 0.4em; display: block; }
    textarea, input[type="text"] { width: 100%; padding: 8px; font-size: 1em; margin: 4px 0 0 0; }
    .actions { margin: 1.2em 0; display: flex; gap: 1em; }
    button { padding: 7px 22px; border-radius: 7px; border: 1px solid #ccc; background: #e8e8e8; cursor: pointer; }
    button:hover { background: #e0e7ff; border-color: #555; }
    .footer { font-size: 12px; color: #888; text-align: right; margin-top: 2em; }
    hr { margin: 2em 0; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <h1>Appunti-AI Professionale</h1>
  <div class="section">
    <span class="label">Titolo documento</span>
    <input type="text" id="docTitle" value="Verbale Riunione">
  </div>
  <div class="section">
    <span class="label">Data</span>
    <input type="text" id="docDate" value="">
  </div>
  <div class="section">
    <span class="label">File di riferimento</span>
    <input type="text" id="docRef" value="">
  </div>
  <div class="section">
    <span class="label">Appunti / Corpo</span>
    <textarea id="notes" rows="8" placeholder="Qui inserisci o carica gli appunti..."></textarea>
  </div>
  <div class="section">
    <span class="label">Note aggiuntive</span>
    <textarea id="extra" rows="3" placeholder="Note extra, dettagli, firma..."></textarea>
  </div>
  <div class="actions">
    <button id="pdfBtn">Esporta PDF</button>
    <button id="copyBtn">Copia testo</button>
    <button id="clearBtn">Pulisci tutto</button>
  </div>
  <hr>
  <div class="footer">© Appunti-AI · www.appunti-ai.com</div>

<script>
  document.getElementById("docDate").value = new Date().toLocaleDateString();

  // Copia testo
  document.getElementById("copyBtn").onclick = () => {
    const output = `${document.getElementById("docTitle").value}\n${document.getElementById("docDate").value}\n${document.getElementById("docRef").value}\n\n${document.getElementById("notes").value}\n\n${document.getElementById("extra").value}`;
    navigator.clipboard.writeText(output)
      .then(() => alert("Testo copiato!"));
  };

  // Pulisci tutto
  document.getElementById("clearBtn").onclick = () => {
    document.getElementById("docTitle").value = "";
    document.getElementById("docDate").value = new Date().toLocaleDateString();
    document.getElementById("docRef").value = "";
    document.getElementById("notes").value = "";
    document.getElementById("extra").value = "";
  };

  // PDF professionale
  document.getElementById("pdfBtn").onclick = () => {
    const titolo = document.getElementById("docTitle").value;
    const data = document.getElementById("docDate").value;
    const ref = document.getElementById("docRef").value;
    const corpo = document.getElementById("notes").value;
    const extra = document.getElementById("extra").value;
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF({ unit: "mm", format: "a4" });

    doc.setFontSize(18);
    doc.text(titolo, 20, 22);
    doc.setFontSize(12);
    doc.text(`Data: ${data}`, 150, 22);
    doc.setDrawColor(180,180,180);
    doc.line(20, 26, 190, 26);

    doc.setFontSize(13);
    let y = 34;
    if (ref.trim()) {
      doc.text(`Documento di riferimento: ${ref}`, 20, y);
      y += 8;
    }
    doc.setFontSize(13);
    doc.text("Appunti:", 20, y); y += 7;
    const noteLines = doc.splitTextToSize(corpo, 160);
    noteLines.forEach(line => { doc.text(line, 20, y); y += 7; });
    if (extra.trim()) {
      y += 6;
      doc.setFontSize(12);
      doc.text("Note aggiuntive:", 20, y); y += 7;
      const extraLines = doc.splitTextToSize(extra, 160);
      extraLines.forEach(line => { doc.text(line, 20, y); y += 7; });
    }

    // Footer su pagina
    doc.setFontSize(11);
    doc.setTextColor(100);
    doc.text(`© Appunti-AI · www.appunti-ai.com · ${new Date().getFullYear()}`, 20, 287);

    // Salva
    doc.save(`AppuntiAI-${new Date().toISOString().slice(0,10)}.pdf`);
  };
</script>
</body>
</html>
